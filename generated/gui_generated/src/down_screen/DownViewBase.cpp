/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/down_screen/DownViewBase.hpp>
#include "BitmapDatabase.hpp"
#include <texts/TextKeysAndLanguages.hpp>
#include <touchgfx/Color.hpp>

DownViewBase::DownViewBase()  :
    buttonCallback(this, &DownViewBase::buttonCallbackHandler),
    sliderValueChangedCallback(this, &DownViewBase::sliderValueChangedCallbackHandler)
{
    backgroundDown.setXY(0, -29);
    backgroundDown.setBitmap(Bitmap(BITMAP_IMG5_ID));

    image1.setXY(90, 14);
    image1.setBitmap(Bitmap(BITMAP_LIGH_ID));
    image1.setAlpha(50);

    slider1.setBitmaps(Bitmap(BITMAP_SLIDER_BACKGROUND_FILLED_ID), Bitmap(BITMAP_SLIDER_BACKGROUND_ID), Bitmap(BITMAP_SLIDER_KNOB_CIRCLE_ID));
    slider1.setXY(116, 220);
    slider1.setupHorizontalSlider(38, 14, 0, 13, 228);
    slider1.setValueRange(12, 200);
    slider1.setValue(12);
    slider1.setNewValueCallback(sliderValueChangedCallback);

    buttonUp.setPosition(175, 0, 130, 56);
    buttonUp.setBitmaps(Bitmap(BITMAP_UP_BTN_ID), Bitmap(BITMAP_UP_BTN_PRESSED_ID));
    buttonUp.setAction(buttonCallback);
    buttonUp.setAlpha(147);

    image2.setXY(27, 97);
    image2.setBitmap(Bitmap(BITMAP_TEMP_1_ID));

    textArea1.setXY(47, 97);
    textArea1.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));
    textArea1.setLinespacing(0);
    textArea1.setTypedText(TypedText(T_SINGLEUSEID1));

    toggleButton1.setPosition(27, 56, 70, 26);
    toggleButton1.setBitmaps(Bitmap(BITMAP_SW2_2_5_ID), Bitmap(BITMAP_SW2_1_ID));

    textArea2.setXY(37, 153);
    textArea2.setColor(touchgfx::Color::getColorFrom24BitRGB(246, 242, 242));
    textArea2.setLinespacing(0);
    textArea2.setTypedText(TypedText(T_SINGLEUSEID2));

    textArea3.setXY(37, 168);
    textArea3.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 255, 255));
    textArea3.setLinespacing(0);
    textArea3.setTypedText(TypedText(T_SINGLEUSEID3));

    add(backgroundDown);
    add(image1);
    add(slider1);
    add(buttonUp);
    add(image2);
    add(textArea1);
    add(toggleButton1);
    add(textArea2);
    add(textArea3);
}

void DownViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &buttonUp)
    {
        //GotoScreenMain
        //When buttonUp clicked change screen to Main
        //Go to Main with slide screen transition towards North
        application().gotoMainScreenSlideTransitionNorth();
    }
    else if (&src == &toggleButton1)
    {

    }
}

void DownViewBase::sliderValueChangedCallbackHandler(const touchgfx::Slider& src, int value)
{
    if (&src == &slider1)
    {
        //change_alpha
        //When slider1 value changed execute C++ code
        //Execute C++ code
        image1.setAlpha(slider1.getValue());
        image1.invalidate();
    }
}
